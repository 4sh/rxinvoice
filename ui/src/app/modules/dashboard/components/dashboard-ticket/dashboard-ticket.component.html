<div class="invoice {{statusClass}}" [ngClass]="{'draft-invoice': isDraftInvoice()}"
     [class.disable]="disabled"
     [dndDraggable]="invoice"
     [dndDraggingClass]="'dndDragging'"
     [dndType]="invoice.status">
    <div class="row">
        <div class="column small-15" *ngIf="!isDraftInvoice()">
            <a-invoice-date [invoiceDate]="invoice.date" [statusDate]="statusClass"></a-invoice-date>
        </div>
        <div class="column small-9 text-right invoice-actions">
            <button class="action-button" (click)="openPopup()">
              <i class="ion-android-more-horizontal"></i>
            </button>
            <button class="action-button" *ngIf="isDraftInvoice()"
                    [routerLink]="['/invoices/detail/' + invoice._id]">
                <i class="fas fa-pencil-alt icon-pencil"></i>
            </button>
            <button class="action-button" *ngIf="!isDraftInvoice()" (click)="downloadInvoice(invoice)">
              <i class="ion-document"></i>
            </button>
        </div>
        <div class="invoice-info column small-15">
            <p class="invoice-number">
              <span *ngIf="invoice.reference">
                 NÂ° {{ (invoice && invoice._id) ? invoice.reference : "[" + invoice.reference + "] "}}
              </span>
            </p>
            <p class="buyer-name">{{invoice.buyer?.name}}</p>
            <p class="business-name">{{invoice.business?.name}}</p>
            <p class="invoice-price">{{invoice.grossAmount | invoiceCurrency}}</p>
        </div>
        <div class="column small-9 invoice-button">
            <a-button-launch (click)="quickAction()"
                             [launchStyle]="'TICKET'"
                             [launchLabel]="quickActionLabel"
                             *ngIf="quickActionVisible"></a-button-launch>
        </div>
    </div>
    <div class="label-draft" *ngIf="isDraftInvoice()">
        {{ 'dashboard.ticket.draft' | translate }}
    </div>
</div>

