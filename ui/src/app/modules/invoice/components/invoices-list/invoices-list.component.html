<a-spinner [hidden]="!isPending"></a-spinner>

<table class="invoiceList">
    <thead>
    <tr>
        <th width="100px" *ngIf="referenceNumberColumnDisplayed">{{'invoice.list.column.reference'|translate}}</th>
        <th width="150px">{{'invoice.list.column.buyer'|translate}}</th>
        <th width="150px">{{'invoice.list.column.business'|translate}}</th>
        <th width="430px">{{'invoice.list.column.object'|translate}}</th>
        <th width="150px" class="text-right">{{'invoice.list.column.gross.amount'|translate}}</th>
        <th width="130px">{{'invoice.list.column.date'|translate}}</th>
        <th width="230px">{{'invoice.list.column.status'|translate}}</th>
        <th width="150px">{{'invoice.list.column.actions'|translate}}</th>
    </tr>
    </thead>

    <tbody>
    <tr *ngFor="let invoice of invoices">
        <td  width="100px" *ngIf="referenceNumberColumnDisplayed">
            <span>
                 NÂ° {{ (invoice && invoice._id) ? invoice.reference : "[" + invoice.reference + "] "}}
            </span>
        </td>
        <td  width="150px" (click)="goToDetail(invoice)" class="text-click">
            <span class="invoiceList-value">{{invoice.buyer.name}}</span>
        </td>
        <td  width="150px" (click)="goToDetail(invoice)" class="text-click">
            <span class="invoiceList-value">{{invoice.business.name}}</span>
        </td>
        <td  width="500px" (click)="goToDetail(invoice)" class="text-click">
            <span class="invoiceList-value">{{invoice.object}}</span>
        </td>
        <td  width="150px" (click)="goToDetail(invoice)" class="text-click text-right">
            <span class="invoiceList-value">{{invoice.grossAmount | invoiceCurrency}}</span>
        </td>
        <td  width="150px" (click)="goToDetail(invoice)" class="text-click">
            <span class="invoiceList-value">{{invoice.date | date: 'dd MMM. yyyy'}}</span>
        </td>
        <td  width="230px">
            <span class="invoiceList-status text-right" [ngClass]="invoice.status">
                {{ 'invoice.status.' + invoice.status | translate}}
            </span>
        </td>
        <td  width="150px" class="buttonContainer grid-x align-right align-middle">

            <button class="invoiceList-launch" (click)="launchInvoice(invoice)"
                    *ngIf="isLaunchButtonVisible(invoice)">
                {{ 'invoice.list.column.launch' | translate}}
            </button>

            <a-button-icon size="DEFAULT" visibility="HIGH" (click)="downloadInvoice(invoice)">
                <i class="far fa-file-pdf"></i>
            </a-button-icon>
        </td>
    </tr>
    </tbody>
</table>




